(function(t){function e(e){for(var a,c,o=e[0],l=e[1],r=e[2],d=0,m=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&m.push(s[c][0]),s[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,r||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(a=!1)}a&&(n.splice(e--,1),t=c(c.s=i[0]))}return t}var a={},s={app:0},n=[];function c(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=t,c.c=a,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(i,a,function(e){return t[e]}.bind(null,a));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var r=0;r<o.length;r++)e(o[r]);var u=l;n.push([1,"chunk-vendors"]),i()})({0:function(t,e){},"0366":function(t){t.exports=JSON.parse('{"type":"service_account","project_id":"marcatel-bot","private_key_id":"029633e6e46cf3c59d3708a2bcf86a343c6d49dd","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDOCcqFBJZE1/K7\\nEuB0DpYQjmSex6dlVELlmTpZsK5hDD28L8LWsAgQ3LsuMccPE7vTW03DVXZ6+IaX\\nFTc67RowHf5uY80Lt8oploV3w6aETRyGMX/QcAfbKJ61OxUSgY7ZOE8w+zn5JVm2\\nWgwBaonSrmv3DP8EJKch54W1/NH1baRu/chOFIf2L6BKBLJEkLWdKIsnf633QUIM\\nvNnWe2ehchGCWg4PMXvU7COFDkttWXGt9/DwpTBFJQr2ZMb2tU008SPcMQ4/Yo+z\\nxEbWpJdMTASTYaofwMABiZPNVD/hyARvaZqFXAiH8/GvO/akBQlva8bs0kAC7fvO\\nDBoqGCApAgMBAAECggEAAV4iooaY3DlQZN0QWhk9DYIVM4wVShILn3UCtewpvOdG\\nlLpEnoWVcZPwcOG+WKw66HXFSsniffXZBQ5dxUOvwdzUvsaUAevcRhpPSJiPwV78\\nZit3fpqWU32cfkc3iQCYiB1t5SXvPVuRKTU6FxWW1IknyPTTLLsApe5JeM3u+Tuv\\ncdmUFHFqvrnPyzcaXCjQQvvkdb4dpISMVE9wDKanC8mb8lS21355eAO5GUFseSUr\\nKLwV9zU96S1vzKBwRfwU40rfpVTrdh1oqxnOqK+acRiAPom3tZZBQYgRiPGTup4l\\n3qU5i+erqozPNMZKM55PAqJvogjw4wkoF57utVNOuwKBgQD2tsy0xLCc16qW1RGk\\nIPcMcs+cGv2yXND7WJfSeJrqYBwLTZlY9z2BXMPRP2LNurPa4riUUOv222cUMfzr\\n8BFgq/nei/mzJiFtC45b9mUoMF45JMWRuu6J8ATqWNWttwJ91hS1CIGKzEh5lweM\\nel6P5Pa4Z5NtIJZzc1fM+QPc5wKBgQDVyw/RKeCBJFgQGeGtuHRr2H1evz5FsgZJ\\nJAhbmIWzDYq2dCE+j1rYIc+PZxdPJLi4vWifSv/LXjJUPTDlExwYV1sg7Ead3d8E\\n/QqKbbiomyWTuI/p1aLhYL2RdJbIZz1jd6eKSGGGIr389Atl6QyTCbMkBAnUXnOK\\nyRpxk7bobwKBgQCweOVIUID8T4/oQBRUUHgmYWF7ihr6IEYj46UFmdtF1uV4eFM+\\nPeuywsYWwL5N5kSMRyw8ev2uIBZFbdQ6eAgWHC2pMHq12IqEU4XK5h5Jdv+O5Gyl\\n5w6FgDgj4NNHZObVV/KL47+1ppYY0x1FMKq/Rsnr8bqUjoDPqCufpGdM9QKBgGBK\\n+67L29CO3BM0dQ9Xuygv9BfOr2+YxXgAALuwsNd6y/VtzONukg4y/FesqTT+Zyze\\nMtc8YoXowWZrwTAMMWVNQ0BK62uDWUXX6v16eeeHKZ+lSzyY+qnkdr2i858D0QSS\\nCiYgf7x4vXXHPbMDCqTXg5Y/M2YxvHzQI1bwnzuFAoGBAL0byyWEwPVy8zriA+VG\\nX0YCPcjVWCU1NQT6PRWsUqYPp8FcI4aWVeIdk7F/Rnv+miHN92/ne+NcSXLOGICO\\nED8WecCtgjSepkTQllOedHHJjgAxQ8+Lqs+lFXcCsprN71kJs3w/ctY42pzKFokS\\nxalWaM8MqjWmMumZwKv7hwFz\\n-----END PRIVATE KEY-----\\n","client_email":"dialogflow-service-acount@marcatel-bot.iam.gserviceaccount.com","client_id":"112933964450054657834","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/dialogflow-service-acount%40marcatel-bot.iam.gserviceaccount.com"}')},1:function(t,e,i){t.exports=i("56d7")},"1cdcb":function(t,e,i){"use strict";var a=i("a73e"),s=i.n(a);s.a},2:function(t,e){},2124:function(t,e,i){},"257c":function(t,e,i){"use strict";var a=i("efb0"),s=i.n(a);s.a},3:function(t,e){},4:function(t,e){},"45af":function(t,e,i){"use strict";var a=i("cfe0"),s=i.n(a);s.a},5:function(t,e){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"fill-height"},[i("v-app-bar",{attrs:{absolute:"",color:"#FDD403",dense:""}},[i("v-toolbar-title",{staticStyle:{"font-weight":"normal"}},[t._v("Asistente Marcatel")]),i("div",{staticClass:"ml-auto"},[i("p",{staticClass:"time text-right"},[t._v(t._s(t.time))]),i("p",{staticClass:"date text-right"},[t._v(t._s(t.date))])])],1),i("v-flex",[i("app-chat")],1)],1)},n=[],c=(i("fb6a"),i("0d03"),i("4795"),i("a1bc")),o=i.n(c),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{fluid:""}},[i("div",{staticClass:"row text-center"},[i("div",{staticClass:"col-12 chat-window"},[i("div",{staticClass:"col-12"}),t._l(t.chat,(function(e){return i("div",{staticClass:"row pt-2",attrs:{id:"top"+e.nid}},[i("div",{staticClass:"col-12"},[e.question?i("div",{staticClass:"row "},[i("div",{staticClass:"ml-1 mr-1 col mb-2 text-left d-flex justify-content-end"},[i("div",{staticClass:"question"},[t._v(t._s(e.question))])])]):t._e(),Object.keys(e.answer).length>=1?i("div",{staticClass:"row"},[i("div",{staticClass:"ml-1 mr-1 col-11 text-left"},[t._l(e.answer.items,(function(e){return i("div",{staticClass:"row pb-2"},[e.simpleResponse?i("div",{staticClass:"col-12"},[i("div",{staticClass:"answerText"},[t._v(t._s(e.simpleResponse.textToSpeech))])]):t._e(),e.basicCard?i("div",{staticClass:"col-12"},[i("chat-basic-card",{attrs:{basicCard:e.basicCard}})],1):t._e(),e.listSelect?i("div",{staticClass:"col-12"},[i("chat-list-select",{attrs:{listSelect:e.listSelect}})],1):t._e(),e.carouselBrowse?i("div",{staticClass:"col-12"},[i("chat-carousel-select",{attrs:{carouselSelect:e.carouselBrowse.items},on:{carouselSumit:t.clickSubmit}})],1):t._e(),e.image?i("div",{staticClass:"col-12"},[i("div",{staticClass:"card"},[e.image.imageUri?i("div",{staticClass:"view overlay"},[i("img",{staticClass:"card-img-top image-only",attrs:{src:e.image.imageUri}}),i("div",{staticClass:"mask rgba-white-slight"})]):t._e()])]):t._e(),"linkOutSuggestion"===e.message?i("div",{staticClass:"col-12"},[i("div",{staticClass:"suggestions link"},[e.linkOutSuggestion?i("div",[i("a",{attrs:{href:e.linkOutSuggestion.uri,target:"_blank"}},[t._v(" "+t._s(e.linkOutSuggestion.destinationName)+" "),i("i",{staticClass:"fas fa-external-link-alt",staticStyle:{"margin-left":"3px"}})])]):t._e()])]):t._e()])})),e.answer.suggestions?t._l(e.answer.suggestions,(function(e){return i("v-chip",{staticStyle:{"margin-top":"4px","margin-right":"2px"},attrs:{color:"primary",outlined:""},on:{click:function(i){return t.clickSubmit(e.title)}}},[e.title?i("div",[t._v(t._s(e.title))]):t._e()])})):t._e()],2)]):i("div",{staticClass:"row"},[t._m(0,!0)])])])})),i("div",{attrs:{id:"bottom"}})],2)]),i("div",{staticClass:"row"},[i("div",{staticClass:"message-row"},[i("v-text-field",{staticClass:"message-area",attrs:{solo:"",type:"text",placeholder:t.config.locale.strings.queryTitle,disabled:!!t.queryFlag,id:"queryinput",height:"60px","hide-details":"",autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),i("v-fab-transition",[i("v-btn",{staticStyle:{"margin-top":"0px"},attrs:{color:"#FDD403",absolute:"",right:"",fab:"",disabled:""==t.query},on:{click:t.submit}},[i("v-icon",[t._v("mdi-send")])],1)],1)],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col md-8 text-left"},[a("div",{staticClass:"loader"},[a("img",{attrs:{src:i("c608")}})])])}],u=i("11c1"),d=i("bc3a"),m=i.n(d),f=i("0366"),v=i("f447"),g=v.GoogleToken,p=new g({email:f.client_email,key:f.private_key,scope:["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/dialogflow"]});function b(t){p.getToken(t)}var h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{outlined:"","max-width":"500"}},[t.basicCard.image?i("v-img",{attrs:{src:t.basicCard.image.url,alt:t.basicCard.image.accessibilityText,height:"auto"}}):t._e(),t.basicCard.title?i("v-card-title",[t._v(" "+t._s(t.basicCard.title)+" ")]):t._e(),t.basicCard.subtitle?i("v-card-subtitle",[t._v(" "+t._s(t.basicCard.subtitle)+" ")]):t._e(),i("v-card-actions",[t._l(t.basicCard.buttons,(function(e,a){return i("div",{key:a},[e.title?i("v-btn",{attrs:{rounded:"",dark:"",href:e.openUrlAction.url,target:"_blank"}},[t._v(" "+t._s(e.title)+" ")]):t._e()],1)})),i("v-spacer")],2)],1)},w=[],_={props:["basicCard"]},y=_,C=(i("45af"),i("2877")),k=Object(C["a"])(y,h,w,!1,null,"5dbb7bae",null),x=k.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[t.listSelect.title?i("h4",{staticClass:"card-title"},[t._v(" "+t._s(t.listSelect.title)+" ")]):t._e(),t.listSelect.subtitle?i("p",{staticClass:"card-text"},[t._v(" "+t._s(t.listSelect.subtitle)+" ")]):t._e(),t.listSelect.items.length>1?[i("ul",{staticClass:"list-group"},t._l(t.listSelect.items,(function(e,a){return i("li",{key:a,staticClass:"list-group-item flex-column align-items-start",on:{click:function(i){return t.clickSubmit(e.title)}}},[i("div",{staticClass:"row"},[""!=e.image.imageUri?[i("div",{staticClass:"col-md-9"},[e.title?i("div",{staticClass:"d-flex w-100 justify-content-between"},[i("h5",{staticClass:"h5 mb-0"},[t._v(" "+t._s(e.title))])]):t._e(),e.description?i("p",{staticClass:"mt-2 mb-0"},[t._v(" "+t._s(e.description)+" ")]):t._e()]),i("div",{staticClass:"col-md-3"},[i("img",{staticClass:"img-fluid rounded",attrs:{src:e.image.imageUri}})])]:[i("div",{staticClass:"col-md-12"},[e.title?i("div",{staticClass:"d-flex w-100 justify-content-between"},[i("h5",{staticClass:"h5 mb-0"},[t._v(" "+t._s(e.title)+" ")])]):t._e(),e.description?i("p",{staticClass:"mt-2 mb-0"},[t._v(" "+t._s(e.description)+" ")]):t._e()])]],2)])})),0)]:t._e()],2)])},q=[],T={props:["listSelect"]},O=T,A=(i("1cdcb"),Object(C["a"])(O,S,q,!1,null,"38c412b0",null)),E=A.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"carousel slide carousel-fade",attrs:{id:"carousel-cards","data-ride":"carousel"}},[i("div",{staticClass:"carousel-inner",attrs:{role:"listbox"}},[t._l(t.carouselSelect,(function(e){return[i("v-card",{staticClass:"ma-4",attrs:{"max-width":"344",outlined:""},on:{click:function(i){return t.carouselSumit(e.title)}}},[i("v-list-item",{attrs:{"three-line":""}},[i("v-list-item-content",[e.title?i("v-list-item-title",{staticClass:"headline mb-1"},[t._v(t._s(e.title))]):t._e(),e.description?i("v-list-item-subtitle",[t._v(t._s(e.description))]):t._e()],1),i("v-list-item-avatar",{attrs:{tile:"",size:"80",color:"grey"}},[e.image?i("v-img",{attrs:{src:e.image.url,alt:e.image.accessibilityText,height:"120px"}}):t._e()],1)],1)],1)]}))],2)])},P=[],B={props:["carouselSelect"],methods:{carouselSumit:function(t){this.$emit("carouselSumit",t)}},mounted:function(){console.log(this.carouselSelect)}},F=B,I=(i("8370"),Object(C["a"])(F,M,P,!1,null,"ac327062",null)),j=I.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-form",{ref:"form",staticClass:"contact-form answerText",attrs:{"lazy-validation":t.lazy},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{staticClass:"custom-label",attrs:{rules:t.nameRules,label:"Nombre",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),i("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("v-text-field",{staticClass:"custom-label",attrs:{label:"Empresa (opcional)"},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}}),i("v-row",{staticClass:"no-padding"},[i("div",{staticClass:"col-auto mr-auto no-padding"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.client,expression:"client"}],staticClass:"form-check form-check-inline",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.client)?t._i(t.client,null)>-1:t.client},on:{change:function(e){var i=t.client,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=null,c=t._i(i,n);a.checked?c<0&&(t.client=i.concat([n])):c>-1&&(t.client=i.slice(0,c).concat(i.slice(c+1)))}else t.client=s}}}),i("label",{attrs:{for:"checkbox"}},[t._v("Ya soy cliente Marcatel")])]),i("v-btn",{staticClass:"submit-button col-auto",attrs:{disabled:!t.valid},on:{click:t.submit}},[t._v(" submit ")])],1)],1)},U=[],Q=(i("b0c0"),{data:function(){return{valid:!0,name:"",nameRules:[function(t){return!!t||"Nombre no puede estar vacio."}],email:"",emailRules:[function(t){return!!t||"E-mail no puede estar vacio"},function(t){return/.+@.+\..+/.test(t)||"E-mail debe ser valido"}],company:"",client:!1,lazy:!1}},methods:{submit:function(){var t={name:this.name,email:this.email,company:this.company,client:this.client};console.log(t)}}}),W=Q,R=(i("257c"),Object(C["a"])(W,D,U,!1,null,"6ce57af6",null)),K=R.exports,L=i("f447"),N=(L.GoogleToken,Object(u["v4"])()),V=o.a.locale.settings.recognitionLang,Y=o.a.app.dialogflowUrl,J=(o.a.Dialogflow.agent,{components:{chatBasicCard:x,chatListSelect:E,chatCarouselSelect:j,chatFillForm:K},data:function(){return{config:o.a,chat:[],query:"",greeting:"",id:1,queryFlag:!1,accessToken:""}},created:function(){var t=this;b((function(e,i){if(e)return console.log("ERROR: "),void console.log(e);t.accessToken=i.access_token}))},methods:{submit:function(){var t=this,e=this;if(e.query){setTimeout((function(){document.querySelector("#bottom").scrollIntoView({behavior:"smooth"})}),2);var i={};i.question=e.query,i.nid=e.id,i.answer={},i.carousel="",e.chat.push(i),e.queryFlag=!0,m()({method:"post",url:Y+"/".concat(N,":detectIntent"),headers:{authorization:"Bearer ".concat(this.accessToken)},data:{query_input:{text:{text:e.query,language_code:V}}}}).then((function(i){i=i.data,console.log(i),e.chat[e.id-1].answer=i.queryResult.webhookPayload.google.richResponse,e.scroll(),e.id++,t.resetQueryInput()}))["catch"]((function(e){t.resetQueryInput()}))}},clickSubmit:function(t){var e=this;e.query=t,e.submit()},resetQueryInput:function(){this.query="",this.queryFlag=!1,window.setTimeout((function(){document.getElementById("queryinput").focus()}),0)},scroll:function(){var t=this,e="#top"+t.id;setTimeout((function(){document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}),2)}},mounted:function(){}}),z=J,G=(i("b3a5"),Object(C["a"])(z,l,r,!1,null,"58b78287",null)),X=G.exports,Z=i("f817"),H={components:{appChat:X},data:function(){return{welcomeTitle:o.a.locale.strings.welcomeTitle,time:"0",date:"0",week:["Dom","Lun","Mar","Mier","Jue","Vie","Sab"],greeting:""}},methods:{updateTime:function(){var t=new Date;t.getHours();this.time=Object(Z["a"])().format("h:mm a"),this.date=Object(Z["a"])().format("ddd L")},zeroPadding:function(t,e){for(var i="",a=0;a<e;a++)i+="0";return(i+t).slice(-e)}},mounted:function(){var t=this;Z["a"].locale("Es"),t.updateTime(),setInterval((function(){t.updateTime()}),1e3);var e=(new Date).getHours();t.greeting=e<12&&e>=0?"Buenos Días":e>=19?"Buenas Noches":e>=12?"Buenas Tardes":"Hola!"}},$=H,tt=(i("5c0b"),Object(C["a"])($,s,n,!1,null,null,null)),et=tt.exports,it=i("9483");Object(it["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var at=i("ce5b"),st=i.n(at);i("bf40"),i("5363"),i("d1e78");a["default"].use(st.a,{iconfont:"mdi"}),a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(et)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var a=i("9c0c"),s=i.n(a);s.a},8370:function(t,e,i){"use strict";var a=i("ea0c"),s=i.n(a);s.a},"9c0c":function(t,e,i){},a1bc:function(t,e){t.exports={Environment:{Debug:!1,Port:1707},Dialogflow:{agent:"marcatel-bot"},app:{muted:!0,googleIt:!1,dialogflowUrl:"https://dialogflow.googleapis.com/v2/projects/marcatel-bot/agent/sessions"},locale:{strings:{welcomeTitle:"Asistente Marcatel",author:"",queryTitle:"Pregunta algo...",voiceTitle:"Adelante, te escucho..."},settings:{speechLang:"es-ES",recognitionLang:"es-ES"}},token:""}},a73e:function(t,e,i){},b3a5:function(t,e,i){"use strict";var a=i("2124"),s=i.n(a);s.a},c608:function(t,e,i){t.exports=i.p+"img/typing.003decbf.svg"},cfe0:function(t,e,i){},ea0c:function(t,e,i){},efb0:function(t,e,i){}});